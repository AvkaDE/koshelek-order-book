import{u as b,s as c,a as h,b as k}from"./rootStore-_b5zxavL.js";import{d as w,c as V,h as y,o as P,_ as T,r as t,a,b as _,w as u,e as n,f as r,i as v,j as L,F as N,g as o,t as m}from"./index-I3X5j-Dr.js";const $=w({name:"SettingsView",setup(){const e=b(),l=V(()=>e.changelog);return y(()=>e.selectedPair,async(i,p)=>{var d;c.snapshotLoaded&&((d=c.socket)==null||d.close(),c.snapshotLoaded=!1),e.changePair(i,p),h(i)}),P(async()=>{c.snapshotLoaded||(h(e.selectedPair),await k(e.selectedPair))}),{rootStore:e,reversedChangelog:l}}}),H={class:"old"},U={class:"new"},j={key:1};function x(e,l,i,p,d,I){const B=t("v-select"),f=t("v-col"),g=t("v-row"),C=t("v-list-item-subtitle"),E=t("v-list-item"),S=t("v-list"),D=t("v-container");return a(),_(D,{fluid:""},{default:u(()=>[n(g,null,{default:u(()=>[n(f,{md:"3"},{default:u(()=>[n(B,{modelValue:e.rootStore.selectedPair,"onUpdate:modelValue":l[0]||(l[0]=s=>e.rootStore.selectedPair=s),label:"Выберите валютную пару",items:["BTCUSDT","BNBBTC","ETHBTC"],variant:"outlined",menuProps:{closeOnContentClick:!0}},null,8,["modelValue"])]),_:1})]),_:1}),r(" История изменений "),e.rootStore.changelog.length?(a(),_(g,{key:0},{default:u(()=>[n(f,{md:"4"},{default:u(()=>[n(S,{lines:"three",maxHeight:"70vh"},{default:u(()=>[(a(!0),v(N,null,L(e.reversedChangelog,(s,F)=>(a(),_(E,{key:+s.timestamp,title:"Change #"+(e.rootStore.changelog.length-F)},{default:u(()=>[n(C,null,{default:u(()=>[r(" Было "),o("span",H,[o("b",null,m(s.old),1)]),o("p",null,[r(" Стало: "),o("span",U,[o("b",null,m(s.new),1)])]),o("p",null,[r(" Дата: "),o("b",null,m(s.timestamp.toLocaleString("ru")),1)])]),_:2},1024)]),_:2},1032,["title"]))),128))]),_:1})]),_:1})]),_:1})):(a(),v("span",j,"история изменения пуста, для обновления измените валютную пару"))]),_:1})}const R=T($,[["render",x],["__scopeId","data-v-4800ecb8"]]);export{R as default};
